class PlayerStats():
    stats = []
    ''' stats json struct
    [
        {
            "season(e.g. 2020)": [
                {
                    day,
                    points,
                    ...
                },
                ...
            ]
        },
        ...
    ]
    '''

    def __init__(self, d: dict = {}):
        seasons = d['s']
        for season in seasons:
            seasonYearStr = season['t'] # e.g. '2020/2021'
            seasonYear = seasonYearStr[5:] # extract the second year
            matchdays = season['m'] # meta data
            matchdayStats = []
            for matchday in matchdays:
                dayStats = {
                    "day": matchday['d'],
                    "points": matchday['p'],
                    "play_time": matchday['sp'],
                    "ms": matchday['ms'], # startelf ?
                    "g": matchday['g'],
                    "a": matchday['a'],
                    "h": matchday['h']
                }

                if 't1i' in matchday:
                    dayStats['t1i'] = matchday['t1i']
                if 't1s' in matchday:
                    dayStats['t1s'] = matchday['t1s']
                if 't2i' in matchday:
                    dayStats['t2i'] = matchday['t2i']
                if 't2s' in matchday:
                    dayStats['t2s'] = matchday['t2s']

                matchdayStats.append(dayStats)
            
            seasonDict = {
                seasonYear: matchdayStats
            }
            self.stats.append(seasonDict)